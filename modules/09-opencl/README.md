# Модуль 9 — Cross-platform GPU (OpenCL)

OpenCL — стандартный C-подобный API, поддерживаемый различными поставщиками (AMD, Intel, NVIDIA, мобильные GPU). Синтаксис кернелов напоминает CUDA, но управление платформой/устройствами более явное.

## Пример `saxpy_cl.cpp`

1. Выбирает первый доступный GPU-девайс.  
2. Создаёт контекст, командную очередь.  
3. Компилирует исходник ядра `saxpy` из строки.  
4. Выполняет `Y = a·X + Y` и проверяет корректность.

### Сборка и запуск

```bash
cmake --build build --target saxpy_cl -j$(nproc)
./build/saxpy_cl          # 1М элементов
./build/saxpy_cl 8388608  # 8М элементов
```

> Требуется установленный пакет `OpenCL-dev` / `ocl-icd-opencl-dev` и драйвер, содержащий ICD вашего GPU.

### Отличия CUDA vs OpenCL

| Особенность            | CUDA            | OpenCL                         |
|------------------------|-----------------|--------------------------------|
| Управление устройством | Автоматическое  | Явное: `clGetPlatformIDs`, `clGetDeviceIDs` |
| Ядро                   | `__global__`    | `__kernel`                    |
| Индексация нитей       | `blockIdx.x`    | `get_group_id(0)`             |
| Компиляция             | ahead-of-time (`nvcc`) | Just-In-Time (`clBuildProgram`) |

### Задания
1. Измените тип устройства на `CL_DEVICE_TYPE_CPU` и сравните время.  
2. Реализуйте OpenCL-версию `matmul_naive` (модуль 3) и сравните производительность. 